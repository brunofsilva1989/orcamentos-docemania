<!DOCTYPE html>
<html lang="pt-br">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Or칞amento P치scoa - Doce Mania</title>
  <style>
    body { font-family: Arial, sans-serif; padding: 20px; background-color: #fff8f0; }
    h1 { color: #d2691e; }
    label, select, input[type="checkbox"] { display: block; margin-top: 10px; }
    .section { margin-bottom: 20px; }
    button { padding: 10px 20px; background-color: #d2691e; color: white; border: none; cursor: pointer; }
  </style>
</head>
<body>
  <h1>Monte seu Ovo de P치scoa 游꼶</h1>
  <div class="section">
    <label for="produto">Escolha o produto:</label>
    <select id="produto" onchange="atualizarTipoOvo()">
      <option value="">-- Selecione --</option>
      <option value="ovo">Ovo de P치scoa</option>
      <option value="barra">Barra de Chocolate</option>
    </select>
  </div>

  <div id="tipoOvoSection" class="section" style="display:none;">
    <label for="tipoOvo">Tipo de Ovo:</label>
    <select id="tipoOvo">
      <option value="">-- Selecione --</option>
      <option value="trufado">Trufado</option>
      <option value="colher">De Colher</option>
    </select>
  </div>

  <div id="pesoSection" class="section" style="display:none;">
    <label for="peso">Peso:</label>
    <select id="peso">
      <option value="">-- Selecione --</option>
      <option value="250">250g</option>
      <option value="500">500g</option>
      <option value="1000">1kg</option>
    </select>
  </div>

  <div id="recheiosSection" class="section" style="display:none;">
    <label>Recheios:</label>
    <div id="recheios"></div>
  </div>

  <div id="adicionaisSection" class="section" style="display:none;">
    <label>Adicionais (+R$10 cada):</label>
    <input type="checkbox" value="Kinder Bueno"> Kinder Bueno<br>
    <input type="checkbox" value="Ferrero Rocher"> Ferrero Rocher<br>
    <input type="checkbox" value="M&Ms"> M&Ms<br>
    <input type="checkbox" value="Ovomaltine"> Ovomaltine<br>
    <input type="checkbox" value="Nutella"> Nutella<br>
    <input type="checkbox" value="Frutas"> Frutas
  </div>

  <button onclick="gerarOrcamento()">Gerar Or칞amento</button>

  <div class="section">
    <h2>Resumo:</h2>
    <pre id="resumo"></pre>
    <a id="linkWhatsapp" href="#" target="_blank" style="display:none;">Enviar via WhatsApp</a>
  </div>

  <script>
    const recheiosTrufado = ["Chocolate Tradicional", "Crocante", "Amendoim"];
    const recheiosColher = ["Brigadeiro", "Prest칤gio", "Ninho", "Sensa칞칚o", "Branco", "Doce de Leite", "Maracuj치"];

    function atualizarTipoOvo() {
      const produto = document.getElementById('produto').value;
      const tipoSection = document.getElementById('tipoOvoSection');
      const pesoSection = document.getElementById('pesoSection');
      const recheiosSection = document.getElementById('recheiosSection');
      const adicionaisSection = document.getElementById('adicionaisSection');

      if (produto === 'ovo') {
        tipoSection.style.display = 'block';
        pesoSection.style.display = 'block';
        recheiosSection.style.display = 'block';
        adicionaisSection.style.display = 'block';
        carregarRecheios('trufado'); // default
      } else if (produto === 'barra') {
        tipoSection.style.display = 'none';
        pesoSection.style.display = 'block';
        recheiosSection.style.display = 'none';
        adicionaisSection.style.display = 'none';
      } else {
        tipoSection.style.display = 'none';
        pesoSection.style.display = 'none';
        recheiosSection.style.display = 'none';
        adicionaisSection.style.display = 'none';
      }
    }

    document.getElementById('tipoOvo').addEventListener('change', function () {
      carregarRecheios(this.value);
    });

    function carregarRecheios(tipo) {
      const recheiosDiv = document.getElementById('recheios');
      recheiosDiv.innerHTML = '';
      let lista = tipo === 'colher' ? recheiosColher : recheiosTrufado;
      lista.forEach(r => {
        recheiosDiv.innerHTML += `<input type="radio" name="recheio" value="${r}"> ${r}<br>`;
      });
    }

    function gerarOrcamento() {
      const produto = document.getElementById('produto').value;
      const tipo = document.getElementById('tipoOvo').value;
      const peso = document.getElementById('peso').value;
      const recheio = document.querySelector('input[name="recheio"]:checked')?.value || '';
      const adicionais = [...document.querySelectorAll('#adicionaisSection input[type="checkbox"]:checked')].map(a => a.value);

      let preco = 0;

      if (produto === 'ovo') {
        if (tipo === 'trufado') {
          if (peso === '250') preco = 50;
          else if (peso === '500') preco = 85;
          else if (peso === '1000') preco = 140;
        } else if (tipo === 'colher') {
          if (peso === '250') preco = 45;
          else if (peso === '500') preco = 70;
          else if (peso === '1000') preco = 100;
        }
        preco += adicionais.length * 10;
      } else if (produto === 'barra') {
        preco = 28;
      }

      const resumo = `Produto: ${produto}\n` +
                     (tipo ? `Tipo: ${tipo}\n` : '') +
                     `Peso: ${peso}g\n` +
                     (recheio ? `Recheio: ${recheio}\n` : '') +
                     (adicionais.length ? `Adicionais: ${adicionais.join(', ')}\n` : '') +
                     `Valor Total: R$${preco},00\n` +
                     `Sinal (50%): R$${preco / 2},00`;

      document.getElementById('resumo').innerText = resumo;
      const textoWpp = encodeURIComponent("Ol치, quero fazer este pedido de P치scoa:\n\n" + resumo);
      document.getElementById('linkWhatsapp').href = `https://wa.me/5511982865807?text=${textoWpp}`;
      document.getElementById('linkWhatsapp').style.display = 'inline-block';
    }
  </script>
</body>
</html>
