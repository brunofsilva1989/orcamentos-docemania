<!DOCTYPE html>
<html lang="pt-br">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Or칞amento P치scoa - Doce Mania</title>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
  <style>
    body { background-color: #fff8f0; }
    h1 { color: #d2691e; margin-bottom: 30px; }
    .form-section { margin-bottom: 20px; }
    .btn-custom { background-color: #d2691e; color: white; border: none; }
    .btn-custom:hover { background-color: #a0522d; }
  </style>
</head>
<body class="container py-5">
  <h1 class="text-center">Monte seu Ovo de P치scoa 游꼶</h1>

  <div class="form-section">
    <label for="produto" class="form-label">Escolha o produto:</label>
    <select id="produto" class="form-select" onchange="atualizarTipoOvo()">
      <option value="">-- Selecione --</option>
      <option value="ovo">Ovo de P치scoa</option>
      <option value="barra">Barra de Chocolate</option>
    </select>
  </div>

  <div id="tipoOvoSection" class="form-section" style="display:none;">
    <label for="tipoOvo" class="form-label">Tipo de Ovo:</label>
    <select id="tipoOvo" class="form-select">
      <option value="">-- Selecione --</option>
      <option value="trufado">Trufado</option>
      <option value="colher">De Colher</option>
    </select>
  </div>

  <div id="pesoSection" class="form-section" style="display:none;">
    <label for="peso" class="form-label">Peso:</label>
    <select id="peso" class="form-select">
      <option value="">-- Selecione --</option>
      <option value="250">250g</option>
      <option value="500">500g</option>
      <option value="1000">1kg</option>
    </select>
  </div>

  <div id="recheiosSection" class="form-section" style="display:none;">
    <label class="form-label">Recheios:</label>
    <div id="recheios" class="form-check"></div>
  </div>

  <div id="adicionaisSection" class="form-section" style="display:none;">
    <label class="form-label">Adicionais (+R$10 cada):</label>
    <div class="form-check">
      <input type="checkbox" class="form-check-input" value="Kinder Bueno" id="kinder">
      <label class="form-check-label" for="kinder">Kinder Bueno</label><br>
      <input type="checkbox" class="form-check-input" value="Ferrero Rocher" id="ferrero">
      <label class="form-check-label" for="ferrero">Ferrero Rocher</label><br>
      <input type="checkbox" class="form-check-input" value="M&Ms" id="mms">
      <label class="form-check-label" for="mms">M&Ms</label><br>
      <input type="checkbox" class="form-check-input" value="Ovomaltine" id="ovomaltine">
      <label class="form-check-label" for="ovomaltine">Ovomaltine</label><br>
      <input type="checkbox" class="form-check-input" value="Nutella" id="nutella">
      <label class="form-check-label" for="nutella">Nutella</label><br>
      <input type="checkbox" class="form-check-input" value="Frutas" id="frutas">
      <label class="form-check-label" for="frutas">Frutas</label>
    </div>
  </div>

  <button onclick="gerarOrcamento()" class="btn btn-custom mb-3">Gerar Or칞amento</button>

  <div class="form-section">
    <h2>Resumo:</h2>
    <pre id="resumo" class="bg-light p-3 border"></pre>
    <a id="linkWhatsapp" href="#" target="_blank" class="btn btn-success" style="display:none;">Enviar via WhatsApp</a>
  </div>

  <script>
    const recheiosTrufado = ["Chocolate Tradicional", "Crocante", "Amendoim"];
    const recheiosColher = ["Brigadeiro", "Prest칤gio", "Ninho", "Sensa칞칚o", "Branco", "Doce de Leite", "Maracuj치"];

    function atualizarTipoOvo() {
      const produto = document.getElementById('produto').value;
      const tipoSection = document.getElementById('tipoOvoSection');
      const pesoSection = document.getElementById('pesoSection');
      const recheiosSection = document.getElementById('recheiosSection');
      const adicionaisSection = document.getElementById('adicionaisSection');

      if (produto === 'ovo') {
        tipoSection.style.display = 'block';
        pesoSection.style.display = 'block';
        recheiosSection.style.display = 'block';
        adicionaisSection.style.display = 'block';
        carregarRecheios('trufado'); // default
      } else if (produto === 'barra') {
        tipoSection.style.display = 'none';
        pesoSection.style.display = 'block';
        recheiosSection.style.display = 'none';
        adicionaisSection.style.display = 'none';
      } else {
        tipoSection.style.display = 'none';
        pesoSection.style.display = 'none';
        recheiosSection.style.display = 'none';
        adicionaisSection.style.display = 'none';
      }
    }

    document.getElementById('tipoOvo').addEventListener('change', function () {
      carregarRecheios(this.value);
    });

    function carregarRecheios(tipo) {
      const recheiosDiv = document.getElementById('recheios');
      recheiosDiv.innerHTML = '';
      let lista = tipo === 'colher' ? recheiosColher : recheiosTrufado;
      lista.forEach((r, index) => {
        recheiosDiv.innerHTML += `<input type="radio" class="form-check-input" name="recheio" id="r${index}" value="${r}"> <label class="form-check-label" for="r${index}">${r}</label><br>`;
      });
    }

    function gerarOrcamento() {
      const produto = document.getElementById('produto').value;
      const tipo = document.getElementById('tipoOvo').value;
      const peso = document.getElementById('peso').value;
      const recheio = document.querySelector('input[name="recheio"]:checked')?.value || '';
      const adicionais = [...document.querySelectorAll('#adicionaisSection input[type="checkbox"]:checked')].map(a => a.value);

      let preco = 0;

      if (produto === 'ovo') {
        if (tipo === 'trufado') {
          if (peso === '250') preco = 50;
          else if (peso === '500') preco = 85;
          else if (peso === '1000') preco = 140;
        } else if (tipo === 'colher') {
          if (peso === '250') preco = 45;
          else if (peso === '500') preco = 70;
          else if (peso === '1000') preco = 100;
        }
        preco += adicionais.length * 10;
      } else if (produto === 'barra') {
        preco = 28;
      }

      const resumo = `Produto: ${produto}\n` +
                     (tipo ? `Tipo: ${tipo}\n` : '') +
                     `Peso: ${peso}g\n` +
                     (recheio ? `Recheio: ${recheio}\n` : '') +
                     (adicionais.length ? `Adicionais: ${adicionais.join(', ')}\n` : '') +
                     `Valor Total: R$${preco},00\n` +
                     `Sinal (50%): R$${preco / 2},00`;

      document.getElementById('resumo').innerText = resumo;
      const textoWpp = encodeURIComponent("Ol치, quero fazer este pedido de P치scoa:\n\n" + resumo);
      document.getElementById('linkWhatsapp').href = `https://wa.me/5511982865807?text=${textoWpp}`;
      document.getElementById('linkWhatsapp').style.display = 'inline-block';
    }
  </script>
</body>
</html>
